<div class="animate-fade-in result-wrapper">
  <div class="variant-toolbar">
    <div class="variant-title-group">
      <h3 class="variant-title-main">作成結果 ({{ start_date }} ～ {{ end_date }})</h3>
      <p class="variant-sub">バージョンを切り替えて比較できます。</p>
    </div>
    {% if variants|length > 1 %}
    <div class="variant-tabs">
      {% for variant in variants %}
      <button
        type="button"
        class="variant-tab{% if loop.first %} active{% endif %}"
        data-variant-tab="{{ variant.variant_index }}"
      >
        バージョン{{ variant.variant_index + 1 }}
      </button>
      {% endfor %}
    </div>
    {% endif %}
  </div>

  {% if failures and failures|length > 0 %}
  <div class="result-alert alert-warning">
    <h4 class="alert-title">? 生成に失敗したバージョンがあります</h4>
    <ul class="alert-list">
      {% for item in failures %}
      <li>バージョン{{ item.variant_index + 1 }}: {{ item.message }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  <div class="variant-panels">
    {% for variant in variants %}
      {% set is_active = loop.first %}
      {% include "components/schedule_variant.html" with context %}
    {% endfor %}
  </div>
</div>
